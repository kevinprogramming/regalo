<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Felicidades Amoree</title>
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{
      --bg0:#0b0b0a;
      --bg1:#11110f;
      --paper:#f3efe7;
      --ink:#1b1a17;
      --txt:#eee9df;
      --muted:#bfb8aa;
      --gold:#c8a85a;
      --line:rgba(200,168,90,.25);
      --shadow: 0 24px 60px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 26px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--txt);
      background:
        radial-gradient(1200px 900px at 15% 10%, rgba(200,168,90,.14), transparent 55%),
        radial-gradient(1000px 800px at 85% 35%, rgba(255,255,255,.06), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      letter-spacing:.2px;
      overflow-x:hidden;
    }

    /* subtle film grain */
    body::before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.08;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      mix-blend-mode:overlay;
    }

    a{color:inherit}
    .wrap{max-width:1050px;margin:0 auto;padding:32px 18px 70px}
    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-bottom:18px;
    }
    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px;
      border-radius:999px;
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      font-size:13px;
      backdrop-filter: blur(10px);
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background:var(--gold);
      box-shadow:0 0 0 4px rgba(200,168,90,.12);
    }

    .hero{
      position:relative;
      border-radius:var(--radius2);
      padding:34px 26px 26px;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .hero::after{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(700px 280px at 60% 0%, rgba(200,168,90,.16), transparent 60%);
      pointer-events:none;
    }

    .kicker{
      display:flex; align-items:center; gap:10px;
      color:var(--muted);
      font-size:13px;
      text-transform:uppercase;
      letter-spacing:.22em;
    }
    .rule{height:1px;flex:1;background:linear-gradient(90deg, transparent, var(--line), transparent)}
    h1{
      margin:14px 0 8px;
      font-family: ui-serif, Georgia, "Times New Roman", serif;
      font-weight:600;
      letter-spacing:.02em;
      font-size: clamp(34px, 5vw, 56px);
      line-height:1.08;
      position:relative;
      z-index:1;
    }
    .sub{
      margin:0;
      color:var(--muted);
      font-size:16px;
      line-height:1.6;
      max-width:70ch;
      position:relative;
      z-index:1;
    }

    .ctaRow{
      margin-top:18px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      position:relative;
      z-index:1;
    }
    .btn{
      border:none;
      cursor:pointer;
      border-radius:14px;
      padding:12px 14px;
      font-weight:650;
      letter-spacing:.2px;
      transition:transform .08s ease, filter .2s ease, background .2s ease;
      user-select:none;
    }
    .btn:active{transform:translateY(1px)}
    .btn.primary{
      background: linear-gradient(135deg, rgba(200,168,90,.95), rgba(200,168,90,.55));
      color:#17140d;
      box-shadow:0 14px 30px rgba(200,168,90,.18);
    }
    .btn.ghost{
      background: rgba(255,255,255,.06);
      color:var(--txt);
      border:1px solid rgba(255,255,255,.12);
    }
    .btn.small{padding:10px 12px;border-radius:12px;font-weight:600}

    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:16px;
      margin-top:16px;
    }
    @media (max-width: 900px){ .grid{grid-template-columns:1fr} }

    .card{
      border-radius:var(--radius2);
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.10);
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .cardInner{padding:18px 18px 16px}
    .cardTitle{
      font-family: ui-serif, Georgia, "Times New Roman", serif;
      font-weight:600;
      letter-spacing:.02em;
      margin:0 0 10px;
      font-size:22px;
    }
    .muted{color:var(--muted)}

    /* ‚Äúpaper‚Äù letter */
    .paper{
      background: var(--paper);
      color: var(--ink);
      border:1px solid rgba(0,0,0,.08);
      border-radius:var(--radius2);
      box-shadow: 0 18px 45px rgba(0,0,0,.25);
      position:relative;
      overflow:hidden;
    }
    .paper::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(900px 280px at 20% 0%, rgba(200,168,90,.18), transparent 65%),
        linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,.00));
      pointer-events:none;
      opacity:.75;
    }
    .paper .cardInner{position:relative}
    .paper .muted{color:#6c6458}
    .signature{
      margin-top:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-top:1px solid rgba(0,0,0,.10);
      padding-top:12px;
      color:#3b352c;
      font-size:14px;
    }
    .sigLine{
      height:1px;flex:1;background:linear-gradient(90deg, rgba(0,0,0,.12), transparent);
      margin-left:10px;
    }

    /* stats */
    .stats{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
      margin-top:12px;
    }
    @media (max-width: 700px){ .stats{grid-template-columns:1fr} }
    .stat{
      border-radius:18px;
      padding:12px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
    }
    .stat b{display:block;font-size:18px;margin-top:4px}

    /* gallery */
    .gallery{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
      margin-top:12px;
    }
    @media (max-width: 700px){ .gallery{grid-template-columns: repeat(2, 1fr);} }
    .thumb{
      position:relative;
      aspect-ratio: 1 / 1;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      cursor:pointer;
      transform: translateZ(0);
    }
    .thumb img{width:100%;height:100%;object-fit:cover;display:block;transition: transform .25s ease}
    .thumb:hover img{transform:scale(1.04)}
    .thumb::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, transparent 60%, rgba(0,0,0,.42));
      opacity:.5;
      pointer-events:none;
    }

    /* lightbox */
    .overlay{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      padding:18px;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(10px);
      z-index:1000;
    }
    .lightbox{
      width:min(980px, 100%);
      border-radius:26px;
      overflow:hidden;
      background: rgba(20,20,18,.9);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
    }
    .lbTop{
      display:flex;justify-content:space-between;align-items:center;gap:10px;
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      font-size:13px;
    }
    .x{
      background:transparent;border:none;color:var(--muted);
      font-size:18px;cursor:pointer;padding:6px 8px;border-radius:12px;
    }
    .x:hover{background:rgba(255,255,255,.06)}
    .lbImg{background:#0b0b0a}
    .lbImg img{width:100%;height:auto;display:block}

    /* reveal modal for gift */
    .modal{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      padding:18px;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(10px);
      z-index:1100;
    }
    .modalBox{
      width:min(820px, 100%);
      border-radius:26px;
      overflow:hidden;
      background: rgba(18,18,16,.92);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
    }
    .modalBody{padding:18px}
    .pill{
      display:inline-flex;align-items:center;gap:10px;
      padding:9px 12px;border-radius:999px;
      background:rgba(200,168,90,.12);
      border:1px solid rgba(200,168,90,.25);
      color: #f3e9d1;
      font-size:13px;
    }

    /* gentle animations */
    .fadeUp{
      opacity:0; transform: translateY(10px);
      transition: opacity .7s ease, transform .7s ease;
    }
    .fadeUp.in{opacity:1; transform: translateY(0)}
    @media (prefers-reduced-motion: reduce){
      .fadeUp{opacity:1;transform:none;transition:none}
      .thumb img{transition:none}
    }

    /* footer */
    .foot{
      margin-top:20px;
      text-align:center;
      color:var(--muted);
      font-size:13px;
      opacity:.9;
    }
    .foot span{color:rgba(200,168,90,.9)}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="badge"><span class="dot"></span> Privado ¬∑ solo para ti</div>
      <div class="badge" id="nowBadge">‚Äî</div>
    </div>

    <section class="hero fadeUp" id="hero">
      <div class="kicker">
        <span>Feliz cumplea√±os Amore</span>
        <div class="rule"></div>
      </div>

      <h1 id="title">Para <span id="name">[SU NOMBRE]</span>.</h1>
      <p class="sub" id="subtitle">
        Una peque√±a carta, algunos recuerdos‚Ä¶ y una aventura que ya est√° escrita.
      </p>

      <div class="ctaRow">
        <button class="btn primary" id="openLetterBtn">Abrir carta</button>
        <button class="btn ghost" id="openGiftBtn">Ver el regalo</button>
      </div>
    </section>

    <div class="grid">
      <!-- Letter -->
      <details class="paper fadeUp" id="letterCard">
        <summary class="cardInner" style="cursor:pointer;list-style:none;padding-bottom:0;">
          <h2 class="cardTitle" style="margin-bottom:0;">Carta</h2>
        </summary>
        <div class="cardInner" style="padding-top:12px;">
          <div class="muted" style="font-size:13px;text-transform:uppercase;letter-spacing:.18em;">
            escrita para hoy
          </div>

          <div style="margin-top:12px; line-height:1.75; font-size:16px;">
            <p style="margin:0 0 12px" id="letterP1">
              Bueno Amore si todav√≠a no te ha quedado claro <b>FELICIDADESSS</b>, me siento super afortunado 
              de poder tener una persona como tu a mi lado, con la cu√°l en una hora he podido vivir y sentir
              m√°s cosas que con cualquier otra en a√±os. Y es cuando me doy cuenta que la conexi√≥n que tenemos 
              es muy especial y siempre hare todo lo que est√© en mi mano para que lo nuestro perdure lo m√°ximo 
              posible.
            </p>
            <p style="margin:0 0 12px" id="letterP2">
              No importa si tengo que ir en avi√≥n, tren, autob√∫s, coche o incluso andando, porque ningun esfuerzo es 
              comparable al sentimiento que me produce estar a tu lado mi amor. Aunque la distancia en muchos momentos 
              se vuelve complicada, es lo que mas agradezco de que haya estado desde el primer momento y no porque sea 
              masoquista jajaja, sino porque estoy totalmente de acuerdo que graci√°s a eso he podido conocer a fondo de 
              la persona que me enamor√©.
            <p style="margin:0" id="letterP3">
              Como no hay ningun regalo material que pueda expresar lo que te quiero, he buscado una experiencia que expresa 
              todo ello a la vez: adrenalina, risas, incertidumbres... Y claramente para que veas que te escucho siempre aunque 
              muchas veces no lo parezca jejej.
            </p>
            <P>
              <B>TE QUIERO MUCHO MI AMOR!!</B>
            </P>

            <div class="signature">
              <div>
                <b id="signName">‚Äî [TU NOMBRE]</b><br/>
                <span class="muted" id="signDate">[FECHA]</span>
              </div>
              <div class="sigLine"></div>
            </div>
          </div>
        </div>
      </details>

      <!-- Right column: Stats + Gallery -->
      <section class="card fadeUp" id="rightCard">
        <div class="cardInner">
          <h2 class="cardTitle">Nuestro peque√±o √°lbum</h2>
          <div class="muted">Un remix de recuerdos (y los que vienen).</div>

          <div class="stats">
            <div class="stat">
              <div class="muted" style="font-size:12px;text-transform:uppercase;letter-spacing:.18em;">Cuenta atr√°s</div>
              <b id="countdown">‚Äî</b>
            </div>
            <div class="stat">
              <div class="muted" style="font-size:12px;text-transform:uppercase;letter-spacing:.18em;">Plan</div>
              <b>Semana Santa</b>
            </div>
            <div class="stat">
              <div class="muted" style="font-size:12px;text-transform:uppercase;letter-spacing:.18em;">Nivel</div>
              <b>+100 aventura</b>
            </div>
          </div>

          <div class="gallery" id="gallery"></div>
          <div class="muted" style="margin-top:10px;font-size:13px">
            Toca una foto para verla en grande.
          </div>
        </div>
      </section>
    </div>

    <div class="foot">
      Hecho con <span>‚ô•</span> (y un poquito de c√≥digo).
    </div>
  </div>

  <!-- Lightbox -->
  <div class="overlay" id="overlay">
    <div class="lightbox">
      <div class="lbTop">
        <div id="lbLabel">Foto</div>
        <button class="x" id="closeOverlay">‚úï</button>
      </div>
      <div class="lbImg">
        <img id="lbImg" src="" alt="foto" />
      </div>
    </div>
  </div>

  <!-- Gift modal -->
  <div class="modal" id="giftModal">
    <div class="modalBox">
      <div class="lbTop">
        <div>Tu regalo</div>
        <button class="x" id="closeGift">‚úï</button>
      </div>
      <div class="modalBody">
        <div class="pill">üßó‚Äç‚ôÄÔ∏è Espeleo-barranquismo</div>
        <h2 class="cardTitle" style="margin-top:10px;">Una aventura contigo</h2>
        <p class="muted" style="line-height:1.7;margin-top:8px">
          No es ‚Äúun plan‚Äù. Es <b>un recuerdo futuro</b>. Elegimos d√≠a en Semana Santa,
          y lo hacemos bien: aventura + comida + paseo.
        </p>

        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:14px">
          <a class="btn primary" id="voucherBtn" href="./vale.jpeg" target="_blank" rel="noopener">
            Abrir vale
          </a>
          <button class="btn ghost" id="surpriseLineBtn">Leer una frase</button>
        </div>

        <div id="surpriseLine" class="muted" style="margin-top:14px;display:none;line-height:1.7">
          ‚Äî
        </div>
      </div>
    </div>
  </div>

  <!-- optional audio -->
  <audio id="audio" preload="auto" src="./audio.mp3"></audio>

  <script>
    // ========= PERSONALIZA AQU√ç (2 minutos) =========
    const CONFIG = {
      herName: "Mi Ni√±a Bonita",
      yourName: "TU MARINERITO",
      // Fecha de hoy (se rellena sola si quieres)
      // Fecha objetivo (c√°mbiala a una fecha real de vuestra Semana Santa):
      targetDateISO: "2026-03-28T10:00:00",
      // Fotos: mete archivos en /fotos/ y lista aqu√≠ los nombres
      photos: [
        "./fotos/1.jpeg","./fotos/2.jpeg","./fotos/3.jpeg","./fotos/4.jpeg",
        "./fotos/5.jpeg","./fotos/6.jpeg","./fotos/7.jpeg","./fotos/8.jpeg"
      ],
      // Vale:
      voucherHref: "./vale.jpeg", // o "./vale.jpg"
      // Frases (sale una random en el modal)
      lines: [
        "Contigo, todo se vuelve casa.",
        "La vida contigo se siente m√°s f√°cil.",
        "Eres mi persona favorita.",
        "Gracias por existir tal y como eres.",
        "Hoy te celebramos. Siempre."
      ],
      // Audio (si no tienes audio.mp3, se ocultar√° el bot√≥n)
      enableAudioIfExists: true,
    };
    // ===============================================

    const $ = (id)=>document.getElementById(id);

    // Header + text
    $("name").textContent = CONFIG.herName;
    $("signName").textContent = "‚Äî " + CONFIG.yourName;
    $("voucherBtn").href = CONFIG.voucherHref;

    // Date badge
    const now = new Date();
    const fmt = new Intl.DateTimeFormat("es-ES", { dateStyle:"full" });
    $("nowBadge").textContent = fmt.format(now);
    $("signDate").textContent = fmt.format(now);

    // Gallery
    const gallery = $("gallery");
    CONFIG.photos.forEach((src, i)=>{
      const d = document.createElement("div");
      d.className = "thumb";
      const img = document.createElement("img");
      img.src = src;
      img.alt = `foto ${i+1}`;
      d.appendChild(img);
      d.addEventListener("click", ()=>openLightbox(src, i+1));
      gallery.appendChild(d);
    });

    // Lightbox
    function openLightbox(src, idx){
      $("lbImg").src = src;
      $("lbLabel").textContent = `Foto ${idx} / ${CONFIG.photos.length}`;
      $("overlay").style.display = "grid";
    }
    function closeLightbox(){ $("overlay").style.display = "none"; }
    $("closeOverlay").onclick = closeLightbox;
    $("overlay").onclick = (e)=>{ if(e.target === $("overlay")) closeLightbox(); };

    // Gift modal
    function openGift(){ $("giftModal").style.display = "grid"; }
    function closeGift(){ $("giftModal").style.display = "none"; }
    $("openGiftBtn").onclick = openGift;
    $("closeGift").onclick = closeGift;
    $("giftModal").onclick = (e)=>{ if(e.target === $("giftModal")) closeGift(); };

    // Mantiene una referencia al audio para usarlo desde "Abrir carta"
    const audio = $("audio");

    // ‚ÄúAbrir carta‚Äù abre el desplegable, hace scroll y reproduce audio
    $("openLetterBtn").onclick = async ()=> {
      $("letterCard").open = true;
      $("letterCard").scrollIntoView({ behavior:"smooth", block:"start" });
      try{
        await audio.play();
      }catch{
        // Si el navegador bloquea el audio, no interrumpimos la experiencia.
      }
    };

    // Random line
    $("surpriseLineBtn").onclick = ()=>{
      const line = CONFIG.lines[Math.floor(Math.random()*CONFIG.lines.length)];
      $("surpriseLine").style.display = "block";
      $("surpriseLine").textContent = "‚Äú" + line + "‚Äù";
    };

    // Countdown
    const TARGET = new Date(CONFIG.targetDateISO);
    function tick(){
      const now = new Date();
      let ms = TARGET - now;
      if(ms < 0) ms = 0;
      const d = Math.floor(ms / (1000*60*60*24));
      const h = Math.floor(ms / (1000*60*60)) % 24;
      const m = Math.floor(ms / (1000*60)) % 60;
      $("countdown").textContent = `${d}d ${h}h ${m}m`;
    }
    tick(); setInterval(tick, 1000 * 15);

    // Fade-in on load + scroll
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting) e.target.classList.add("in");
      });
    }, { threshold: 0.08 });
    document.querySelectorAll(".fadeUp").forEach(el=>io.observe(el));
    window.addEventListener("load", ()=>document.querySelectorAll(".fadeUp").forEach(el=>el.classList.add("in")));

  </script>
</body>
</html>
